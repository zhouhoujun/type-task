#!/usr/bin/env node
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var tsioc_1=require("tsioc"),chalk_1=require("chalk"),timestamp=require("time-stamp"),prettyTime=require("pretty-hrtime"),Liftoff=require("liftoff");process.env.INIT_CWD=process.cwd();var argv=require("minimist")(process.argv.slice(2)),cliPackage=require("../package"),versionFlag=argv.v||argv.version,cli=new Liftoff({name:"type-task",processTitle:"type-task",moduleName:"type-task",configName:"taskfile",extensions:{".js":null,".json":null,".ts":"ts-node/register",".tsx":"ts-node/register",".xml":"require-xml",".yaml":"require-yaml",".yml":"require-yaml"}});process.once("exit",function(e){0===e&&process.exit(1)}),cli.on("require",function(e){console.log("Requiring external module",chalk_1.default.magenta(e))}),cli.on("requireFail",function(e){console.log(chalk_1.default.red("Failed to load external module"),chalk_1.default.magenta(e))}),cli.on("respawn",function(e,o){var a=chalk_1.default.magenta(e.join(", ")),i=chalk_1.default.magenta(o.pid);console.log("Node flags detected:",a),console.log("Respawned to PID:",i)}),cli.launch({cwd:argv.cwd,configPath:argv.taskfile,require:argv.require},function(e){versionFlag&&(console.log("type-task CLI version",cliPackage.version),e.modulePackage&&!tsioc_1.isUndefined(e.modulePackage.version)&&console.log("Local version",e.modulePackage.version),process.exit(0)),e.configPath||(console.log(chalk_1.default.red("No taskfile found")),process.exit(1)),process.cwd()!==e.cwd&&(process.chdir(e.cwd),console.log("Working directory changed to",chalk_1.default.magenta(e.cwd))),require(e.configPath),console.log("Using taskfile",chalk_1.default.magenta(e.configPath))});
//# sourceMappingURL=sourcemaps/type-task.js.map
